{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\nconst socket = io();\nexport default function useSocket(cb) {\n  const {\n    0: activeSocket,\n    1: setActiveSocket\n  } = useState(null);\n  useEffect(() => {\n    // debug(\"Socket updated\", { socket, activeSocket });\n    if (activeSocket || !socket) return;\n    cb && cb(socket);\n    setActiveSocket(socket);\n    return function cleanup() {\n      // debug(\"Running useSocket cleanup\", { socket });\n      socket.off(\"connection\", cb);\n    };\n  }, [socket]);\n  return activeSocket;\n}","map":{"version":3,"sources":["/Users/macbookpro/Projects/web/dipongo_app/useSocket.js"],"names":["useEffect","useState","io","socket","useSocket","cb","activeSocket","setActiveSocket","cleanup","off"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,MAAMC,MAAM,GAAGD,EAAE,EAAjB;AAEA,eAAe,SAASE,SAAT,CAAmBC,EAAnB,EAAuB;AAClC,QAAM;AAAA,OAACC,YAAD;AAAA,OAAeC;AAAf,MAAkCN,QAAQ,CAAC,IAAD,CAAhD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,QAAIM,YAAY,IAAI,CAACH,MAArB,EAA6B;AAC7BE,IAAAA,EAAE,IAAIA,EAAE,CAACF,MAAD,CAAR;AACAI,IAAAA,eAAe,CAACJ,MAAD,CAAf;AACA,WAAO,SAASK,OAAT,GAAmB;AACtB;AACAL,MAAAA,MAAM,CAACM,GAAP,CAAW,YAAX,EAAyBJ,EAAzB;AACH,KAHD;AAIH,GATQ,EASN,CAACF,MAAD,CATM,CAAT;AAWA,SAAOG,YAAP;AACH","sourcesContent":["import { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\n\nconst socket = io();\n\nexport default function useSocket(cb) {\n    const [activeSocket, setActiveSocket] = useState(null);\n\n    useEffect(() => {\n        // debug(\"Socket updated\", { socket, activeSocket });\n        if (activeSocket || !socket) return;\n        cb && cb(socket);\n        setActiveSocket(socket);\n        return function cleanup() {\n            // debug(\"Running useSocket cleanup\", { socket });\n            socket.off(\"connection\", cb);\n        };\n    }, [socket]);\n\n    return activeSocket;\n}\n"]},"metadata":{},"sourceType":"module"}