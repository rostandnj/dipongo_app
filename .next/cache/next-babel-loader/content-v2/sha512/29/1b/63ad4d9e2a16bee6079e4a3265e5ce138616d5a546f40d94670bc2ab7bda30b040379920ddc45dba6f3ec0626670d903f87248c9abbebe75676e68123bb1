{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Layout } from 'antd';\nimport close from \"../../public/assets/img/bouton-quitter.png\";\nimport axios from \"axios\";\nimport { URL } from \"../../urlapi\";\nimport chrono from '../../public/assets/chrono.png';\nimport continuer from '../../public/assets/img/continuer.png';\nimport quitter from '../../public/assets/img/quitter.png';\nimport visiter from '../../public/assets/img/visiter.png';\nimport rejouer from '../../public/assets/img/rejouer.png';\nimport julien from \"../../public/assets/img/julien.png\";\nimport suivant from \"../../public/assets/suivant.jpg\";\nimport Countdown from \"react-countdown\";\nimport { Spin, message, Modal, Progress } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { useAuth } from \"../../store\";\nimport { useRouter } from \"next/router\";\n\nvar antIcon = /*#__PURE__*/_jsx(LoadingOutlined, {\n  style: {\n    fontSize: 40,\n    color: '#1d893c',\n    marginTop: 30\n  },\n  spin: true\n});\n\nvar Content = Layout.Content;\nexport default function Onboarding() {\n  var _useAuth = useAuth(),\n      session = _useAuth.session,\n      updateSession = _useAuth.updateSession,\n      deleteSession = _useAuth.deleteSession;\n\n  var router = useRouter();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      isModalVisible = _useState2[0],\n      setIsModalVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      isClose = _useState3[0],\n      setIsClose = _useState3[1];\n\n  var _useState4 = useState(false),\n      isReplay = _useState4[0],\n      setIsReplay = _useState4[1];\n\n  var _useState5 = useState(true),\n      showStars = _useState5[0],\n      setShowStars = _useState5[1];\n\n  var _useState6 = useState(null),\n      localSession = _useState6[0],\n      setLocalSession = _useState6[1];\n\n  var _useState7 = useState(false),\n      isMounted = _useState7[0],\n      setIsMounted = _useState7[1];\n\n  useEffect(function () {\n    setIsMounted(true);\n  }, []);\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n    setIsClose(false);\n    setIsReplay(false);\n    setShowStars(true);\n  };\n\n  var logout = function logout() {\n    deleteSession();\n  };\n\n  useEffect(function () {\n    if (true) {\n      var token = localStorage.getItem(\"token\");\n      axios.get(URL + '/api/user/info', {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      }).then(function (result) {\n        if (result.data.data.running_session !== undefined) {\n          if (result.data.data.running_session.question_done !== 50) {\n            router.push('/lost').then(function (r) {});\n          }\n        } else {\n          logout();\n        }\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh',\n      backgroundColor: '#f4cb6e',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"lost-image-text w100 u-pad-horizontal-m justcenter\",\n      style: {\n        background: '#0202028a',\n        height: '100%'\n      },\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"flex\",\n        style: {\n          alignItems: 'flex-end',\n          zIndex: 1\n        },\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: julien,\n          className: \"julien\",\n          style: {\n            display: showStars ? 'block' : 'none'\n          }\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \" card-auth  w100 bgwhite u-pad-s u-pad-left-xl u-pad-vertical-l topText\",\n        style: {\n          marginLeft: -80,\n          position: 'relative',\n          marginBottom: 70\n        },\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"flex\",\n          style: {\n            alignItems: 'flex-end',\n            zIndex: 1\n          },\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"../../public/btn-close.png\",\n            className: \"closeEnd cursor\",\n            style: {},\n            onClick: function onClick() {\n              return logout();\n            }\n          })\n        }), /*#__PURE__*/_jsxs(\"h1\", {\n          className: \"onboarding-text\",\n          children: [\"Tu recevras bient\\xF4t un mail pour confirmer notre invitation \\xE0 passer une demi-journ\\xE9e au poste de secours le plus proche de chez toi.\", /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"span\", {\n            style: {\n              fontWeight: 'bolder'\n            },\n            children: \"A bient\\xF4t !\"\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n      width: \"100%\",\n      height: \"100%\",\n      version: \"1.1\",\n      viewBox: \"0 0 1280 1024\",\n      children: /*#__PURE__*/_jsxs(\"g\", {\n        children: [/*#__PURE__*/_jsx(\"image\", {\n          width: \"100%\",\n          height: \"100%\",\n          opacity: \"1\",\n          preserveAspectRatio: \"none\",\n          xlinkHref: \"../../map_no_chrono.png\"\n        }), /*#__PURE__*/_jsx(\"path\", {\n          className: \"cursor\",\n          fill: \"transparent\",\n          stroke: \"#none\",\n          strokeLinecap: \"butt\",\n          strokeLinejoin: \"miter\",\n          strokeOpacity: \"1\",\n          strokeWidth: \"1\",\n          d: \"M29.52 182.66l1.846-162.365h134.688l1.845 164.21z\",\n          opacity: \"0\"\n        }), /*#__PURE__*/_jsx(\"path\", {\n          fill: \"url(#timer)\",\n          stroke: \"#000\",\n          strokeLinecap: \"butt\",\n          strokeLinejoin: \"miter\",\n          strokeOpacity: \"0\",\n          strokeWidth: \"1\",\n          d: \"M1105.182 876.396v36.901h105.168l-3.69-40.59z\",\n          opacity: \"1\"\n        }), /*#__PURE__*/_jsx(\"path\", {\n          className: \"cursor\",\n          fill: \"transparent\",\n          stroke: \"#000\",\n          strokeLinecap: \"butt\",\n          strokeLinejoin: \"miter\",\n          strokeOpacity: \"0\",\n          strokeWidth: \"1\",\n          d: \"M1095.957 27.676c5.535 118.083 5.535 119.928 5.535 119.928l86.717 9.225 70.112-18.45-12.916-118.084z\",\n          opacity: \"1\"\n        })]\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}