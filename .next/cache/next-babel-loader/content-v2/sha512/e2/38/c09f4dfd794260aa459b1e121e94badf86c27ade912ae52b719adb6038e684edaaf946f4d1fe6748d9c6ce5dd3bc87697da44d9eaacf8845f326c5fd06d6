{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/macbookpro/Projects/web/dipongo_app/pages/win/sendemail.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Form, Input, Button, Layout, message, Modal, Checkbox } from 'antd';\nimport axios from \"axios\";\nimport close from \"../../public/assets/img/bouton-quitter.png\";\nimport ok from \"../../public/assets/img/btn-ok-2.png\";\nimport { URL } from '../../urlapi';\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport continuer from \"../../public/assets/img/continuer.png\";\nimport quitter from \"../../public/assets/img/quitter.png\";\nimport { useAuth } from \"../../store\";\nimport { useRouter } from \"next/router\";\n\nconst antIcon = /*#__PURE__*/_jsxDEV(LoadingOutlined, {\n  style: {\n    fontSize: 40,\n    color: '#1d893c'\n  },\n  spin: true\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 17\n}, this);\n\nconst {\n  Content\n} = Layout;\nexport default function Signup() {\n  const {\n    session,\n    updateSession,\n    deleteSession\n  } = useAuth();\n  const router = useRouter();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n  const {\n    0: checkValue,\n    1: setCheckValue\n  } = useState(false);\n  useEffect(() => {\n    if (false) {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n      axios.get(URL + '/api/user/info', {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      }).then(result => {\n        setLoading(false);\n        /*if(result.data.data.running_session.status === true && result.data.data.running_session.question_done === 50){\n         }\n        else{\n            router.push('/roadmap').then((r)=>{})\n        }*/\n      }).catch(error => {\n        setLoading(false);\n        console.log('error');\n      });\n    }\n  }, []);\n  const [form] = Form.useForm();\n\n  const logout = () => {\n    deleteSession();\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const toggleChecked = () => {\n    setCheckValue(!checkValue);\n  };\n\n  const onChangeChecked = e => {\n    setCheckValue(e.target.checked);\n  };\n\n  async function onSubmit(values) {\n    if (false) {\n      const token = localStorage.getItem(\"token\");\n      setLoading(true);\n      axios.post(URL + '/api/register/email', values, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      }).then(result => {\n        setLoading(false);\n        router.push(\"/win/end\").then(r => {}); //message.success(result.data.message)\n      }).catch(function (error) {\n        setLoading(false);\n\n        if (error.response) {\n          setLoading(false);\n          message.warning(error.response.data.message); // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n        } else if (error.request) {\n          // The request was made but no response was received\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n          // http.ClientRequest in node.js\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n      });\n    }\n  }\n\n  const onChecked = () => {\n    setCheckValue(checkValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: \"bgapp background-image-body\",\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      closable: false,\n      footer: null,\n      visible: isModalVisible,\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"  flex itemcenter justcenter column\",\n        style: {\n          height: '80vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w100 flex itemcenter justcenter cursor\",\n          onClick: handleCancel,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: continuer,\n            className: \"w35\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w100 flex itemcenter justcenter cursor\",\n          onClick: logout,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: quitter,\n            className: \"w25\",\n            style: {\n              marginTop: 20\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \" column flex itemcenter justcenter mask \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"close\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: () => router.push(\"/win/end\").then(r => {}),\n          style: {\n            marginTop: '-10px'\n          },\n          src: close,\n          className: \"closeButton cursor\",\n          alt: \"close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingTop: '220px'\n        },\n        className: \"flex column w100   justcenter itemcenter\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          name: \"normal_login\",\n          className: \" card-auth column bgwhite  alignitems justcenter flex u-pad-top-l rad8\",\n          size: \"large\",\n          initialValues: {\n            remember: true\n          },\n          onFinish: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              textAlign: 'center',\n              fontWeight: 'bolder'\n            },\n            children: \"BRAVO !\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '13px',\n              padding: '20px',\n              textAlign: 'justify'\n            },\n            children: \"Je t'invite \\xE0 passer une demi-journ\\xE9e au poste de secours le plus proche de chez toi. Pour cela remplis ce formulaire.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"u-pad-horizontal-xxl \",\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"name\",\n              label: \"Nom\",\n              rules: [{\n                required: true,\n                message: 'Inserer un nom '\n              }],\n              className: \"u-mar-bottom-m column u-mar-top-s\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                className: \"u-mar-top-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"surname\",\n              label: \"Pr\\xE9nom\",\n              className: \"u-mar-bottom-m column u-mar-top-s\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                className: \"u-mar-top-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"email\",\n              label: \"email\",\n              rules: [{\n                type: \"email\",\n                required: true,\n                message: 'Inserer une adresse email valide'\n              }],\n              className: \"u-mar-bottom-xs column\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                type: \"email\",\n                className: \"u-mar-top-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"check_fill\",\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: checkValue,\n                className: \"fs10 \",\n                onChange: e => onChangeChecked(e),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '11px'\n                  },\n                  children: \"J'accepte de recevoir un mail de G\\xE9n\\xE9ration Sauveteurs.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              className: \"w100 justcenter flex itemcenter u-mar-top-l\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  paddingBottom: '20px'\n                },\n                className: \"w100 justcenter flex itemcenter\",\n                children: loading ? /*#__PURE__*/_jsxDEV(Spin, {\n                  indicator: antIcon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  htmlType: \"submit\",\n                  size: \"large\",\n                  style: {\n                    border: 0,\n                    padding: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    style: {\n                      pointerEvents: checkValue ? 'auto' : 'none'\n                    },\n                    style: {\n                      width: '80px',\n                      height: '50px'\n                    },\n                    src: ok\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["/Users/macbookpro/Projects/web/dipongo_app/pages/win/sendemail.js"],"names":["React","useEffect","useState","Form","Input","Button","Layout","message","Modal","Checkbox","axios","close","ok","URL","Spin","LoadingOutlined","continuer","quitter","useAuth","useRouter","antIcon","fontSize","color","Content","Signup","session","updateSession","deleteSession","router","loading","setLoading","isModalVisible","setIsModalVisible","checkValue","setCheckValue","token","localStorage","getItem","get","headers","then","result","catch","error","console","log","form","useForm","logout","handleCancel","toggleChecked","onChangeChecked","e","target","checked","onSubmit","values","post","push","r","response","warning","data","request","config","onChecked","height","marginTop","paddingTop","remember","textAlign","fontWeight","padding","required","type","paddingBottom","border","pointerEvents","width"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Form, Input, Button, Layout, message, Modal, Checkbox} from 'antd';\nimport axios from \"axios\";\nimport close from \"../../public/assets/img/bouton-quitter.png\";\nimport ok from \"../../public/assets/img/btn-ok-2.png\";\nimport {URL} from '../../urlapi';\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport continuer from \"../../public/assets/img/continuer.png\";\nimport quitter from \"../../public/assets/img/quitter.png\";\nimport {useAuth} from \"../../store\";\nimport {useRouter} from \"next/router\";\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 40,color:'#1d893c' }} spin />;\n\n\nconst {  Content } = Layout;\n\nexport default function  Signup () {\n\n    const { session, updateSession, deleteSession } = useAuth();\n    const router = useRouter()\n    const [loading,setLoading] = useState(false)\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const [checkValue, setCheckValue] = useState(false)\n\n    useEffect(() => {\n\n        if (typeof window !== \"undefined\"){\n            setLoading(true)\n            const token = localStorage.getItem(\"token\");\n            axios.get(URL + '/api/user/info', {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            }).then((result) =>{\n                setLoading(false)\n                /*if(result.data.data.running_session.status === true && result.data.data.running_session.question_done === 50){\n\n                }\n                else{\n                    router.push('/roadmap').then((r)=>{})\n                }*/\n            }).catch((error)=>{\n                setLoading(false)\n                console.log('error')\n            });\n        }\n\n\n    }, []);\n\n\n    const [form] = Form.useForm();\n\n    const logout = () => {\n\n        deleteSession()\n\n    }\n\n    const handleCancel = () => {\n        setIsModalVisible(false)\n    };\n\n\n    const toggleChecked = () => {\n        setCheckValue(!checkValue)\n    };\n\n    const onChangeChecked = e => {\n        setCheckValue(e.target.checked)\n    };\n\n\n\n    async function onSubmit ( values )  {\n\n        if (typeof window !== \"undefined\"){\n            const token = localStorage.getItem(\"token\")\n            setLoading(true)\n            axios.post(URL + '/api/register/email', values,{\n                    headers: {\n                        'Authorization': 'Bearer ' + token\n                    }\n                }\n            ).\n            then((result) =>{\n\n                setLoading(false)\n                router.push(\"/win/end\").then((r)=>{})\n\n                //message.success(result.data.message)\n\n            }).\n            catch(function (error) {\n                setLoading(false)\n                if (error.response) {\n                    setLoading(false)\n                    message.warning(error.response.data.message)\n                    // The request was made and the server responded with a status code\n                    // that falls out of the range of 2xx\n\n                } else if (error.request) {\n                    // The request was made but no response was received\n                    // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n                    // http.ClientRequest in node.js\n                    console.log(error.request)\n                } else {\n                    // Something happened in setting up the request that triggered an Error\n                    console.log('Error', error.message)\n                }\n                console.log(error.config)\n            });\n        }\n\n\n\n    }\n\n    const onChecked = ()=>{\n        setCheckValue((checkValue))\n    }\n\n\n\n    return (\n\n\n        <Layout className=\"bgapp background-image-body\">\n\n            <Modal closable={false} footer={null} visible={isModalVisible}  onCancel={handleCancel} >\n                <div     className=\"  flex itemcenter justcenter column\" style={{height:'80vh'}}\n                >\n\n\n                    <div  className=\"w100 flex itemcenter justcenter cursor\" onClick={handleCancel} >\n                        <img src={continuer} className=\"w35\"  />\n\n                    </div>\n\n                    <div  className=\"w100 flex itemcenter justcenter cursor\" onClick={logout}>\n                        <img src={quitter} className=\"w25\" style={{marginTop:20}}   />\n\n                    </div>\n\n\n\n\n                </div>\n            </Modal>\n\n\n\n            <section className=\" column flex itemcenter justcenter mask \">\n\n                <div className=\"close\">\n                    <img onClick={()=>router.push(\"/win/end\").then((r)=>{})} style={{marginTop: '-10px'}} src={close} className=\"closeButton cursor\" alt=\"close\" />\n                </div>\n\n\n                <div style={{paddingTop: '220px'}} className=\"flex column w100   justcenter itemcenter\" >\n\n                    <Form\n                        name=\"normal_login\"\n                        className=\" card-auth column bgwhite  alignitems justcenter flex u-pad-top-l rad8\"\n                        size=\"large\"\n                        initialValues={{\n                            remember: true,\n                        }}\n                        onFinish={onSubmit}\n                    >\n                        <h1 style={{textAlign: 'center',fontWeight: 'bolder'}}>BRAVO !</h1>\n                        <div style={{fontSize: '13px',padding: '20px',textAlign: 'justify'}}>Je t'invite à passer une demi-journée au poste de secours le plus proche de chez toi. Pour cela remplis ce formulaire.</div>\n\n\n                        <div className=\"u-pad-horizontal-xxl \">\n\n\n\n                            <Form.Item\n                                name=\"name\"\n                                label=\"Nom\"\n                                rules={[\n                                    {\n                                        required: true,\n                                        message: 'Inserer un nom ',\n                                    },\n                                ]}\n                                className=\"u-mar-bottom-m column u-mar-top-s\"\n                            >\n                                <Input  className=\"u-mar-top-xs\" />\n                            </Form.Item>\n\n\n                            <Form.Item\n                                name=\"surname\"\n                                label=\"Prénom\"\n\n                                className=\"u-mar-bottom-m column u-mar-top-s\"\n                            >\n                                <Input  className=\"u-mar-top-xs\" />\n                            </Form.Item>\n\n\n\n\n                            <Form.Item\n\n                                name=\"email\"\n                                label=\"email\"\n                                rules={[{type:\"email\",required: true,message: 'Inserer une adresse email valide',\n                                },\n                                ]}\n                                className=\"u-mar-bottom-xs column\"\n                            >\n\n                                <Input\n\n                                    type=\"email\"\n                                    className=\"u-mar-top-xs\"\n                                />\n                            </Form.Item>\n                            <Form.Item   name=\"check_fill\">\n                                <Checkbox checked={checkValue} className=\"fs10 \" onChange={(e)=>onChangeChecked(e)} >\n                                    <span style={{fontSize: '11px'}}>J'accepte de recevoir un mail de Génération Sauveteurs.</span>\n                                </Checkbox>\n                            </Form.Item>\n                            <Form.Item className=\"w100 justcenter flex itemcenter u-mar-top-l\">\n                                <div style={{paddingBottom: '20px'}} className=\"w100 justcenter flex itemcenter\">\n\n                                    {loading ?\n\n\n                                        <Spin indicator={antIcon} />\n                                        :\n\n                                        <Button htmlType=\"submit\" size=\"large\" style={{border:0,padding:0}} >\n\n                                            <img style={{pointerEvents: checkValue?'auto':'none'}}  style={{width: '80px',height:'50px'}} src={ok} />\n                                        </Button>\n\n                                    }\n                                </div>\n                            </Form.Item>\n\n\n\n\n\n\n                        </div>\n\n\n\n\n                    </Form>\n\n\n\n                </div>\n\n\n            </section>\n\n\n\n\n\n        </Layout>\n\n\n\n\n\n    );\n\n\n}\n"]},"metadata":{},"sourceType":"module"}