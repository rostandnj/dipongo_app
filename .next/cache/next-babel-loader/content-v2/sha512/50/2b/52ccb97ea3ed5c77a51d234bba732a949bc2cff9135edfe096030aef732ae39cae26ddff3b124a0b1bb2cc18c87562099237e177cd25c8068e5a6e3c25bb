{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/macbookpro/Projects/web/dipongo_app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/macbookpro/Projects/web/dipongo_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbookpro/Projects/web/dipongo_app/pages/lost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Layout } from 'antd';\nimport close from \"../public/assets/img/bouton-quitter.png\";\nimport axios from \"axios\";\nimport { URL } from \"../urlapi\";\nimport chrono from '../public/assets/chrono.png';\nimport continuer from '../public/assets/img/continuer.png';\nimport quitter from '../public/assets/img/quitter.png';\nimport visiter from '../public/assets/img/visiter.png';\nimport rejouer from '../public/assets/img/rejouer.png';\nimport julien from \"../public/assets/img/Julien.png\";\nimport suivant from \"../public/assets/suivant.jpg\";\nimport Countdown from \"react-countdown\";\nimport { Spin, message, Modal, Progress } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { useAuth } from \"../store\";\nimport { useRouter } from \"next/router\";\n\nvar antIcon = /*#__PURE__*/_jsxDEV(LoadingOutlined, {\n  style: {\n    fontSize: 40,\n    color: '#1d893c',\n    marginTop: 30\n  },\n  spin: true\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 17\n}, this);\n\nvar Content = Layout.Content;\nexport default function Onboarding() {\n  _s();\n\n  var _useAuth = useAuth(),\n      session = _useAuth.session,\n      updateSession = _useAuth.updateSession,\n      deleteSession = _useAuth.deleteSession;\n\n  var router = useRouter();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      isModalVisible = _useState2[0],\n      setIsModalVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      isClose = _useState3[0],\n      setIsClose = _useState3[1];\n\n  var _useState4 = useState(false),\n      isReplay = _useState4[0],\n      setIsReplay = _useState4[1];\n\n  var _useState5 = useState(true),\n      showStars = _useState5[0],\n      setShowStars = _useState5[1];\n\n  var _useState6 = useState(null),\n      localSession = _useState6[0],\n      setLocalSession = _useState6[1];\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n    setIsClose(false);\n    setIsReplay(false);\n    setShowStars(true);\n  };\n\n  var logout = function logout() {\n    deleteSession();\n  };\n\n  function replayGame() {\n    return _replayGame.apply(this, arguments);\n  }\n\n  function _replayGame() {\n    _replayGame = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              setLoading(true);\n              _context2.next = 4;\n              return axios.get(URL + '/api/start/game', {\n                headers: {\n                  'Authorization': 'Bearer ' + token\n                }\n              });\n\n            case 4:\n              result = _context2.sent;\n              setSession(result.data.data.running_session);\n              history.push(\"/\");\n              setLoading(false);\n              console.log('start');\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](0);\n              setLoading(false);\n\n              if (_context2.t0.response) {\n                message.warning(_context2.t0.response.data.message);\n              } else {\n                message.warning('Erreur connexion!');\n              }\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 11]]);\n    }));\n    return _replayGame.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    var audioEl = document.getElementsByClassName(\"audio-element\")[0];\n    setTimeout(function () {\n      audioEl.play();\n    }, 4000);\n\n    var getSession = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(URL + '/api/user/info', {\n                  headers: {\n                    'Authorization': 'Bearer ' + token\n                  }\n                });\n\n              case 3:\n                result = _context.sent;\n\n                if (result.data.data.running_session !== undefined) {\n                  if (result.data.data.running_session.question_done === 50) {\n                    history.push('/win');\n                  }\n                }\n\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log('lost'); //setLoading(false)\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n\n      return function getSession() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getSession();\n  }, []);\n  var renderer = useCallback(function (_ref2) {\n    var minutes = _ref2.minutes,\n        seconds = _ref2.seconds,\n        completed = _ref2.completed;\n\n    if (completed) {\n      // Render a complete state\n      history.push('/lost');\n      return null;\n    } else {\n      // Render a countdown\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [minutes < 10 ? '0' : '', \" \", minutes, \":\", seconds < 10 ? '0' : '', seconds]\n      }, void 0, true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh',\n      backgroundColor: '#f4cb6e',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"audio\", {\n        className: \"audio-element\",\n        children: /*#__PURE__*/_jsxDEV(\"source\", {\n          src: \"../../wrong.mp3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      closable: false,\n      footer: null,\n      visible: isReplay,\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"  flex itemcenter justcenter column\",\n        style: {\n          height: '80vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w100 flex itemcenter justcenter cursor\",\n          onClick: replayGame,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: rejouer,\n            className: \"w50\",\n            style: {\n              marginTop: 20\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w100 flex itemcenter justcenter cursor u-mar-top-xl\",\n          onClick: logout,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: visiter,\n            className: \"w40\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lost-image-text w100 u-pad-horizontal-m justcenter\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        style: {\n          alignItems: 'flex-end',\n          zIndex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: julien,\n          className: \"julien\",\n          style: {\n            display: showStars ? 'block' : 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-auth card-text-onboard  bgwhite u-pad-s u-pad-left-xl \",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"onboarding-text\",\n          children: \"Le temps est \\xE9coul\\xE9, les premiers baigneurs arrivent et tu n'as pas r\\xE9ussis la formation. Nous devrons faire sans toi. Mais si cela te dit de retenter ta chance je suis partant !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cursor\",\n          onClick: function onClick() {\n            setIsReplay(true);\n            setShowStars(false);\n          },\n          style: {\n            position: 'absolute',\n            right: 15,\n            bottom: 15\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: suivant,\n            height: \"35\",\n            width: \"50\",\n            style: {\n              transform: 'rotate(270deg)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 1\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n      width: \"100%\",\n      height: \"100%\",\n      version: \"1.1\",\n      viewBox: \"0 0 1280 1024\",\n      children: /*#__PURE__*/_jsxDEV(\"g\", {\n        children: [/*#__PURE__*/_jsxDEV(\"image\", {\n          width: \"100%\",\n          height: \"100%\",\n          opacity: \"1\",\n          preserveAspectRatio: \"none\",\n          xlinkHref: \"../../map_no_chrono.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          onClick: function onClick() {\n            return setIsModalVisible(true);\n          },\n          className: \"cursor\",\n          fill: \"transparent\",\n          stroke: \"#000\",\n          strokeLinecap: \"butt\",\n          strokeLinejoin: \"miter\",\n          strokeOpacity: \"1\",\n          strokeWidth: \"1\",\n          d: \"M29.52 182.66l1.846-162.365h134.688l1.845 164.21z\",\n          opacity: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          fill: \"url(#timer)\",\n          stroke: \"#000\",\n          strokeLinecap: \"butt\",\n          strokeLinejoin: \"miter\",\n          strokeOpacity: \"0\",\n          strokeWidth: \"1\",\n          d: \"M1105.182 876.396v36.901h105.168l-3.69-40.59z\",\n          opacity: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          onClick: function onClick() {\n            return setIsClose(true);\n          },\n          className: \"cursor\",\n          fill: \"transparent\",\n          stroke: \"#000\",\n          strokeLinecap: \"butt\",\n          strokeLinejoin: \"miter\",\n          strokeOpacity: \"1\",\n          strokeWidth: \"1\",\n          d: \"M1095.957 27.676c5.535 118.083 5.535 119.928 5.535 119.928l86.717 9.225 70.112-18.45-12.916-118.084z\",\n          opacity: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n          style: {\n            display: showStars ? 'block' : 'none'\n          },\n          className: \"cursor\",\n          width: \"142.431\",\n          height: \"139.331\",\n          x: \"291.935\",\n          y: \"751.147\",\n          preserveAspectRatio: \"none\",\n          xlinkHref: \"../../vide.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n          style: {\n            display: showStars ? 'block' : 'none'\n          },\n          className: \"cursor\",\n          width: \"142.431\",\n          height: \"139.331\",\n          x: \"931.935\",\n          y: \"471.711\",\n          preserveAspectRatio: \"none\",\n          xlinkHref: \"../../vide.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n          style: {\n            display: showStars ? 'block' : 'none'\n          },\n          className: \"cursor\",\n          width: \"142.431\",\n          height: \"139.331\",\n          x: \"416.329\",\n          y: \"246.359\",\n          preserveAspectRatio: \"none\",\n          xlinkHref: \"../../vide.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n          style: {\n            display: showStars ? 'block' : 'none'\n          },\n          width: \"142.431\",\n          height: \"139.331\",\n          x: \"769.681\",\n          y: \"93.119\",\n          opacity: \"1\",\n          preserveAspectRatio: \"none\",\n          xlinkHref: \"../../vide.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Onboarding, \"0PXeANZzxJB922DWOwbMsZzWB6o=\", false, function () {\n  return [useAuth, useRouter];\n});\n\n_c = Onboarding;\n\nvar _c;\n\n$RefreshReg$(_c, \"Onboarding\");","map":{"version":3,"sources":["/Users/macbookpro/Projects/web/dipongo_app/pages/lost.js"],"names":["React","useState","useCallback","useEffect","Layout","close","axios","URL","chrono","continuer","quitter","visiter","rejouer","julien","suivant","Countdown","Spin","message","Modal","Progress","LoadingOutlined","useAuth","useRouter","antIcon","fontSize","color","marginTop","Content","Onboarding","session","updateSession","deleteSession","router","loading","setLoading","isModalVisible","setIsModalVisible","isClose","setIsClose","isReplay","setIsReplay","showStars","setShowStars","localSession","setLocalSession","handleCancel","logout","replayGame","get","headers","token","result","setSession","data","running_session","history","push","console","log","response","warning","audioEl","document","getElementsByClassName","setTimeout","play","getSession","undefined","question_done","renderer","minutes","seconds","completed","width","height","backgroundColor","position","alignItems","zIndex","display","right","bottom","transform"],"mappings":"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","sourcesContent":["import React, {useState, useCallback, useEffect} from 'react';\n\nimport {Layout} from 'antd';\nimport close from \"../public/assets/img/bouton-quitter.png\";\nimport axios from \"axios\";\nimport {URL} from \"../urlapi\";\nimport chrono from '../public/assets/chrono.png';\nimport continuer from '../public/assets/img/continuer.png';\nimport quitter from '../public/assets/img/quitter.png';\nimport visiter from '../public/assets/img/visiter.png';\nimport rejouer from '../public/assets/img/rejouer.png';\nimport julien from \"../public/assets/img/Julien.png\";\nimport suivant from \"../public/assets/suivant.jpg\"\nimport Countdown from \"react-countdown\";\nimport { Spin,message,Modal,Progress } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport {useAuth} from \"../store\";\nimport {useRouter} from \"next/router\";\n\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 40,color:'#1d893c',marginTop:30 }} spin />;\n\n\nconst {  Content } = Layout;\nexport default function  Onboarding () {\n\n    const { session, updateSession, deleteSession } = useAuth();\n    const router = useRouter()\n    const [loading,setLoading] = useState(false)\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [isClose, setIsClose] = useState(false);\n    const [isReplay, setIsReplay] = useState(false);\n    const [showStars, setShowStars] = useState(true);\n    const [localSession,setLocalSession] = useState(null)\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n        setIsClose(false)\n        setIsReplay(false)\n        setShowStars(true)\n    };\n\n    const logout = () => {\n        deleteSession()\n    }\n\n    async function replayGame ( )  {\n\n        try {\n            setLoading(true)\n\n            const result = await axios.get(URL + '/api/start/game', {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            })\n            setSession(result.data.data.running_session);\n            history.push(\"/\")\n            setLoading(false)\n            console.log('start')\n\n        } catch(e) {\n            setLoading(false)\n            if (e.response) {\n                message.warning(e.response.data.message)\n            }else{\n                message.warning('Erreur connexion!')\n            }\n\n\n\n        }\n\n    }\n\n    useEffect(() => {\n\n        const audioEl = document.getElementsByClassName(\"audio-element\")[0]\n        setTimeout(()=>{\n            audioEl.play()\n        },4000)\n\n        const getSession = async () => {\n            try {\n                //setLoading(true)\n                const result = await axios.get(URL + '/api/user/info', {\n                    headers: {\n                        'Authorization': 'Bearer ' + token\n                    }\n                })\n\n                if(result.data.data.running_session !== undefined){\n                    if(result.data.data.running_session.question_done === 50)\n                    {\n                        history.push('/win')\n                    }\n                }\n\n            } catch (e) {\n                console.log('lost')\n                //setLoading(false)\n\n            }\n\n\n\n        };\n\n        getSession();\n\n    }, []);\n\n\n\n\n\n    const renderer =  useCallback(({ minutes, seconds, completed }) => {\n        if (completed) {\n            // Render a complete state\n            history.push('/lost');\n            return null;\n        } else {\n            // Render a countdown\n            return (\n                <>\n                    { minutes < 10 ? '0' :''} {minutes}:{ seconds < 10 ? '0' :''}{seconds}\n                </>\n            );\n        }\n    }, []);\n\n\n\n    return (\n\n\n        <div style={{width:'100vw',height:'100vh',backgroundColor:'#f4cb6e',position:'relative'}} >\n            <div>\n                <audio className=\"audio-element\">\n                    <source src=\"../../wrong.mp3\"></source>\n                </audio>\n            </div>\n\n\n\n            <Modal closable={false} footer={null} visible={isReplay}  onCancel={handleCancel} >\n                <div     className=\"  flex itemcenter justcenter column\" style={{height:'80vh'}}>\n\n\n\n\n                    <div  className=\"w100 flex itemcenter justcenter cursor\" onClick={replayGame}>\n                        <img src={rejouer} className=\"w50\"  style={{marginTop:20}} />\n                    </div>\n\n                    <div  className=\"w100 flex itemcenter justcenter cursor u-mar-top-xl\" onClick={logout} >\n                        <img src={visiter} className=\"w40\"   />\n                    </div>\n\n\n\n                </div>\n            </Modal>\n\n            <div className=\"lost-image-text w100 u-pad-horizontal-m justcenter\" >\n\n                <div className=\"flex\" style={{alignItems:'flex-end',zIndex:1}}>\n                    <img src={julien} className=\"julien\" style={{display: showStars?'block':'none'}}/>\n                </div>\n                <div className=\"card-auth card-text-onboard  bgwhite u-pad-s u-pad-left-xl \" >\n                    <h1 className=\"onboarding-text\">\n\n\n                        Le temps est écoulé, les premiers baigneurs arrivent et tu n'as pas réussis la formation. Nous devrons faire sans toi.\n\n                        Mais si cela te dit de retenter ta chance je suis partant !\n\n\n                    </h1>\n\n\n                    <span className=\"cursor\" onClick={()=>{setIsReplay(true) ;setShowStars(false)}} style={{position:'absolute',right:15,bottom:15}}>\n<img src={suivant} height=\"35\" width=\"50\" style={{transform: 'rotate(270deg)' }} />\n</span>\n                </div>\n\n            </div>\n\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                width=\"100%\"\n                height=\"100%\"\n                version=\"1.1\"\n                viewBox=\"0 0 1280 1024\"\n            >\n                <g>\n                    <image\n                        width=\"100%\"\n                        height=\"100%\"\n                        opacity=\"1\"\n                        preserveAspectRatio=\"none\"\n                        xlinkHref=\"../../map_no_chrono.png\"\n                    ></image>\n                    <path\n                        onClick={()=>setIsModalVisible(true)}\n                        className=\"cursor\"\n                        fill=\"transparent\"\n                        stroke=\"#000\"\n                        strokeLinecap=\"butt\"\n                        strokeLinejoin=\"miter\"\n                        strokeOpacity=\"1\"\n                        strokeWidth=\"1\"\n                        d=\"M29.52 182.66l1.846-162.365h134.688l1.845 164.21z\"\n                        opacity=\"0\"\n                    ></path>\n                    <path\n                        fill=\"url(#timer)\"\n                        stroke=\"#000\"\n                        strokeLinecap=\"butt\"\n                        strokeLinejoin=\"miter\"\n                        strokeOpacity=\"0\"\n                        strokeWidth=\"1\"\n                        d=\"M1105.182 876.396v36.901h105.168l-3.69-40.59z\"\n                        opacity=\"1\"\n\n                    ></path>\n                    <path\n                        onClick={()=>setIsClose(true)}\n                        className=\"cursor\"\n                        fill=\"transparent\"\n                        stroke=\"#000\"\n                        strokeLinecap=\"butt\"\n                        strokeLinejoin=\"miter\"\n                        strokeOpacity=\"1\"\n                        strokeWidth=\"1\"\n                        d=\"M1095.957 27.676c5.535 118.083 5.535 119.928 5.535 119.928l86.717 9.225 70.112-18.45-12.916-118.084z\"\n                        opacity=\"0\"\n                    ></path>\n                    <image\n                        style={{display: showStars?'block':'none'}}\n                        className=\"cursor\"\n                        width=\"142.431\"\n                        height=\"139.331\"\n                        x=\"291.935\"\n                        y=\"751.147\"\n                        preserveAspectRatio=\"none\"\n                        xlinkHref=\"../../vide.png\"\n                    ></image>\n                    <image\n                        style={{display: showStars?'block':'none'}}\n                        className=\"cursor\"\n                        width=\"142.431\"\n                        height=\"139.331\"\n                        x=\"931.935\"\n                        y=\"471.711\"\n                        preserveAspectRatio=\"none\"\n                        xlinkHref=\"../../vide.png\"\n                    ></image>\n                    <image\n                        style={{display: showStars?'block':'none'}}\n                        className=\"cursor\"\n                        width=\"142.431\"\n                        height=\"139.331\"\n                        x=\"416.329\"\n                        y=\"246.359\"\n                        preserveAspectRatio=\"none\"\n                        xlinkHref=\"../../vide.png\"\n                    ></image>\n                    <image\n                        style={{display: showStars?'block':'none'}}\n                        width=\"142.431\"\n                        height=\"139.331\"\n                        x=\"769.681\"\n                        y=\"93.119\"\n                        opacity=\"1\"\n                        preserveAspectRatio=\"none\"\n                        xlinkHref=\"../../vide.png\"\n                    ></image>\n                </g>\n\n            </svg>\n\n\n\n        </div>\n\n\n\n\n\n\n\n\n\n    );\n\n\n}\n"]},"metadata":{},"sourceType":"module"}