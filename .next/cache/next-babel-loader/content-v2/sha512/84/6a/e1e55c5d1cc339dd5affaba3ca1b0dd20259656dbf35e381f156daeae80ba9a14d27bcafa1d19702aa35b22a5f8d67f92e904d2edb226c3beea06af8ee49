{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\nvar socket = io();\nexport default function useSocket(cb) {\n  _s();\n\n  var _useState = useState(null),\n      activeSocket = _useState[0],\n      setActiveSocket = _useState[1];\n\n  useEffect(function () {\n    // debug(\"Socket updated\", { socket, activeSocket });\n    if (activeSocket || !socket) return;\n    cb && cb(socket);\n    setActiveSocket(socket);\n    return function cleanup() {\n      // debug(\"Running useSocket cleanup\", { socket });\n      socket.off(\"connection\", cb);\n    };\n  }, [socket]);\n  return activeSocket;\n}\n\n_s(useSocket, \"0EMqnpA7VcbCJ9vhwwqJDOQF02o=\");","map":{"version":3,"sources":["/Users/macbookpro/Projects/web/dipongo_app/useSocket.js"],"names":["useEffect","useState","io","socket","useSocket","cb","activeSocket","setActiveSocket","cleanup","off"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,IAAMC,MAAM,GAAGD,EAAE,EAAjB;AAEA,eAAe,SAASE,SAAT,CAAmBC,EAAnB,EAAuB;AAAA;;AAAA,kBACMJ,QAAQ,CAAC,IAAD,CADd;AAAA,MAC3BK,YAD2B;AAAA,MACbC,eADa;;AAGlCP,EAAAA,SAAS,CAAC,YAAM;AACZ;AACA,QAAIM,YAAY,IAAI,CAACH,MAArB,EAA6B;AAC7BE,IAAAA,EAAE,IAAIA,EAAE,CAACF,MAAD,CAAR;AACAI,IAAAA,eAAe,CAACJ,MAAD,CAAf;AACA,WAAO,SAASK,OAAT,GAAmB;AACtB;AACAL,MAAAA,MAAM,CAACM,GAAP,CAAW,YAAX,EAAyBJ,EAAzB;AACH,KAHD;AAIH,GATQ,EASN,CAACF,MAAD,CATM,CAAT;AAWA,SAAOG,YAAP;AACH;;GAfuBF,S","sourcesContent":["import { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\n\nconst socket = io();\n\nexport default function useSocket(cb) {\n    const [activeSocket, setActiveSocket] = useState(null);\n\n    useEffect(() => {\n        // debug(\"Socket updated\", { socket, activeSocket });\n        if (activeSocket || !socket) return;\n        cb && cb(socket);\n        setActiveSocket(socket);\n        return function cleanup() {\n            // debug(\"Running useSocket cleanup\", { socket });\n            socket.off(\"connection\", cb);\n        };\n    }, [socket]);\n\n    return activeSocket;\n}\n"]},"metadata":{},"sourceType":"module"}